# RunPod SDK (stable pinned)
runpod==1.7.13

# PyTorch (matches base image pytorch/pytorch:2.2.0-cuda11.8)
torch==2.2.0+cu118
# torchvision is usually bundled with torch, but explicitly adding for clarity/safety
torchvision==0.17.0+cu118
# Adding torchaudio for completeness, often accompanies torch/torchvision
torchaudio==2.2.0+cu118
# For CUDA 11.8 specific builds, ensure you use the correct tag.
# You can check available builds here: https://download.pytorch.org/whl/torch_stable.html

# Core Stable Diffusion / AnimateDiff dependencies
diffusers==0.27.2
transformers==4.38.2
accelerate==0.27.2
safetensors==0.4.2

# Utility & image processing
Pillow==10.2.0
opencv-python-headless==4.9.0.80
requests==2.31.0

# ControlNet utilities
controlnet-aux==0.0.6

# For the health check server
flask==3.0.3

# Memory and performance optimization (highly recommended for GPUs)
# Install xformers if you have a compatible GPU and enough memory.
# This often needs to be installed with specific CUDA versions, verify its compatibility.
# For CUDA 11.8, try:
xformers==0.0.25.post1 # or a version compatible with your CUDA 11.8 and torch 2.2.0

# IP-Adapter (Tencent official) â€” install from source
# This ensures you get the latest version from the repository.
git+https://github.com/tencent-ailab/IP-Adapter.git